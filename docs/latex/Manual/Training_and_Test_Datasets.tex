
% This LaTeX was auto-generated from MATLAB code.
% To make changes, update the MATLAB code and republish this document.

\documentclass{standalone}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{textcomp}
\usepackage[framed, numbered]{matlab-prettifier}

\sloppy
\definecolor{lightgray}{gray}{0.5}
\setlength{\parindent}{0pt}

\begin{document}

    
    
\section*{Training and Test Datasets}

\begin{par}
Training and test datasets are generated by sensor array simulation part of the software. One dataset contains the simulation results generated with current configuration of used magnet in simulation and a setup of position and sensor behavior. The simulation computes for configured angles with certain angle resultion the magnetic field strength at sensor array member position for a rotation of the magnet through the configured angles. With respect to positions and angles the simulation maps the field strength for each array member to specified characterization field (current TDK Rise) and interpolates (nearest neighbor) the sensor bridge output voltages for cosine and sine bridge for each sensor array member. The acquired data is saved in matrices with same orientation as sensor array member matrice or coordinate matrices of the sensor array, so it completes the rotation in related data matrices.
\end{par} \vspace{1em}
\begin{par}
\textbf{Training and test datasets filenames are build by a certain pattern.}
\end{par} \vspace{1em}
\begin{par}
[Training\ensuremath{|}Test]\_YYYY-mm-dd-\_HH-MM-SS-FFF.mat
\end{par} \vspace{1em}
\begin{par}
They are saved under data path data/training and data/test.
\end{par} \vspace{1em}
\begin{par}
A best practice can been seen in workflow topic of the documentation.
\end{par} \vspace{1em}

\subsection*{Contents}

\begin{itemize}
\setlength{\itemsep}{-1ex}
   \item Dataset Structure
   \item See Also
\end{itemize}


\subsection*{Dataset Structure}

\begin{par}
\textbf{Info:}
\end{par} \vspace{1em}
\begin{par}
A training ot test dataset is separated into two main structures the first one the Info struct contains information about the simulation configuration and setup in which the simulation constructed the dataset.
\end{par} \vspace{1em}
\begin{itemize}
\setlength{\itemsep}{-1ex}
   \item \textbf{SensorArrayOptions} - struct, contains setting of sensor size and behavior
   \item \textbf{DipoleOptions} - struct, contains setting of used magnet which was used in   the simulation
   \item \textbf{UseOptions} - struct, contains information about use of the dataset if it   is constructed for training or test use, sensor array position, number of   angles, tilt of magnet and so on.
   \item CharData - string, identifies the characteriazation data set which was used   to simulate the array members.
   \item \textbf{Units} - struct, si units of data in datasets
   \item filePath - string, which points on the absolute path origin where the   dataset was saved including filename.
\end{itemize}
\begin{itemize}
\setlength{\itemsep}{-1ex}
   \item \textbf{SensorOptions:}
\end{itemize}
\begin{itemize}
\setlength{\itemsep}{-1ex}
   \item geometry - char, indentifier string of which shape the sensor array   geometry was constructed, geometry of used meshgrid in computation
   \item dimension - double, number of sensors at one array edge for square geometry
   \item edge - double, edge lenght in mm of sensor array
   \item Vcc - double,  supply voltage of the sensor array
   \item Voff - double, bridge offset voltage off the sensor array
   \item Vnorm - double, norm value to get voltage values from characterization   fields in combination with Vcc and Voff, TDK dataset is normed in mV/V.
   \item SensorCount, double - number of sensors in the sensor array for square   geometry it is square or dimension
\end{itemize}
\begin{itemize}
\setlength{\itemsep}{-1ex}
   \item \textbf{DipoleOptions:}
\end{itemize}
\begin{itemize}
\setlength{\itemsep}{-1ex}
   \item sphereRadius - double, radius in mm around dipole magnet to approximate a   spherical magnet in simulation with far field approximation (dipole field   equation)
   \item H0mag - double, field strenght magnitude in kA/m which is imprinted on the   compute field strength of the used magnet in a certain distance from magnet   surface to construct magnet with fitting characteristics for simulation.
   \item z0 - double, distance from surface in which H0mag is imprinted on field   computed field strength of the used magnet. Imprinting respects magnet tilts   so the distance is always set to the magnet z-axis with no shifts in x and y   direction
   \item M0mag - double, magnetic dipole moment magnitude which is used to define the   magnetization direction of the magnet in tis rest position.
\end{itemize}
\begin{itemize}
\setlength{\itemsep}{-1ex}
   \item \textbf{UseOptions:}
\end{itemize}
\begin{itemize}
\setlength{\itemsep}{-1ex}
   \item useCase - string, identifies the dataset if it is for training or test   purpose
   \item xPos - double, relative sensor array position to magnet surface
   \item yPos - double, relative sensor array position to magnet surface
   \item zPos - double, relative sensor array position to magnet surface
   \item tilt - double, magnet tilt in z-axis
   \item angleRes - double, angle resolution of rotation angles in simulation
   \item phaseIndex - double, start phase of rotation as index of full scale rotation   angles with angleRes
   \item nAngles - double, number of rotation angles in datasets
   \item BaseReference - char, identifier which characterization dataset was loaded
   \item BridgeReference - char, identifier which reference from characteriazation   dataset was used to generate cosine and sine voltages
\end{itemize}
\begin{itemize}
\setlength{\itemsep}{-1ex}
   \item \textbf{Units:}
\end{itemize}
\begin{itemize}
\setlength{\itemsep}{-1ex}
   \item SensorOutputVoltage - char, si unit of sensor bridge outputs
   \item MagneticFieldStrength - char, si unit of magnetic field strength
   \item Angles - char, si unit of angles
   \item Length - char, si unit of metric length
\end{itemize}
\begin{par}
\textbf{Data:}
\end{par} \vspace{1em}
\begin{itemize}
\setlength{\itemsep}{-1ex}
   \item HxScale - 1 x L double vector of Hx field strength amplitudes used in   charcteriztion to construct sensor characterization references, x scale for   characterization reference
   \item HyScale - 1 x L double vector of Hy field strength amplitudes used in   charcteriztion to construct sensor characterization references, y scale for   characterization reference
   \item VcosRef - L x L double matrix of cosine bridge characterization field   corresponding to HxScale and HyScale
   \item VsinRef - L x L double matrix of sine bridge characterization field   corresponding to HxScale and HyScale
   \item Gain - double, scalar gain factor for bridge outputs (interanl   amplification)
   \item r0 - 3 x 1 double vector of magnet rest position from magnet surface and   respect to magnet magnet tilt, used in computation of H0norm to imprint a   certain field strength on magnets H-field, respects sphere radius of magnet
   \item m0 - 3 x 1 vector of magnetic dipole moment in magnet rest position with   respect of manget tilt, used to compute H0norm to imprint a certain field   strength on magnet H-field, the magnitude of this vector is equal to M0mag
   \item H0norm - double, scalar factor to imprint a certain field strength on magnet   H-field in rest position with respect to magnet tilt in coordinate system
   \item m - 3 x M double vector of magnetic dipole rotation moments each 3 x 1   vector is related to i-th rotation angle
   \item angles - 1 x M double vector of i-th rotation angles in degree
   \item angleStep - double, scalar of angle step width in rotation
   \item angleRefIndex - 1 x M double vector of indices which refer to a full scale   rotation of configure angle resuolution, so it abstracts a subset angle   rotation to the same rotation with all angles given by angle resolution
   \item X - N x N double matrix of x coordinate positions of each sensor array   member
   \item Y - N x N double matrix of y coordinate positions of each sensor array   member
   \item Z - N x N double matrix of z coordinate positions of each sensor array   member
   \item Hx - N x N x M double matrix of compute Hx-field strength at each sensor   array member position for each rotation angle 1...M
   \item Hy - N x N x M double matrix of compute Hy-field strength at each sensor   array member position for each rotation angle 1...M
   \item Hz - N x N x M double matrix of compute Hz-field strength at each sensor   array member position for each rotation angle 1...M
   \item Habs - N x N x M double matrix of compute H-field strength magnitude at each   sensor array member position for each rotation angle 1...M
   \item Vcos - N x N x M double matrix of computed cosine bridge outputs at each   sensor array member position for each rotation angle 1...M
   \item Vsin - N x N x M double matrix of computed sine bridge outputs at each   sensor array member position for each rotation angle 1...M
\end{itemize}


\subsection*{See Also}

\begin{itemize}
\setlength{\itemsep}{-1ex}
   \item \begin{verbatim}Simulation Workflow\end{verbatim}
   \item \begin{verbatim}sensorArraySimulation\end{verbatim}
   \item \begin{verbatim}simulateDipoleSensorArraySquareGrid\end{verbatim}
   \item \begin{verbatim}generateSimulationDatasets\end{verbatim}
   \item \begin{verbatim}generateConfigMat\end{verbatim}
\end{itemize}
\begin{par}
Created on December 03. 2020 by Tobias Wulf. Copyright Tobias Wulf 2020.
\end{par} \vspace{1em}
\begin{par}

\end{par} \vspace{1em}



\end{document}

