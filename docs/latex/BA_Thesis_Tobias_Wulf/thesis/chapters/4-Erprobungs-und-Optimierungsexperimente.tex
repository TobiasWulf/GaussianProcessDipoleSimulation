% !TEX root = ../thesis.tex
% testing and optimization experiments
% @author Tobias Wulf
%

\chapter{Erprobungs- und Optimierungsexperimente}\label{ch:erprobungs-u-opt-exp}


In diesem Teil der Arbeit werden Experimente bzw. Simulationen durchgeführt, die abschnittweise Beiträge für eine Modelloptimierung zeigen. Dabei ist das übergeordnete Ziel ein möglichst ressourcenarmes mathematisches Modell für einen Sensor-ASIC zu finden. Die Durchführung der Experimente basiert auf Matlab-Skripten, in denen geschriebener funktionaler Quellcode eingebunden und ausgeführt wird. Die Ergebnisse der Experimente stehen nach Durchführung in Vektor- und Matrixform im Matlab-Workspace bereit und sind anschließend mit grafisch Ausgewertet worden. Die Ergebnisgrafiken sind unter den einzelnen Experimenten einzusehen, beschrieben und feststellend ausgewertet. Eine zusammenfassende Auswertung aller Ergebnisse folgt in \autoref{ch:zusammenfassung}. Der grundlegende Ablauf der Experimente ist schematisch gleich:


\begin{enumerate}
	\item Konfigurieren der Software und Erstellen der Konfigurations-MAT-Datei.
	\item Erzeugen von Trainings- und Testdatensätze mittels der Sensor-Array-Simulation.
	\item Erstellen eines oder mehrerer Regressionsmodell.
	\item Durchführung von Regressions- oder Verlustberechnungen.
	\item Grafische Auswertung der Ergebnisse.
\end{enumerate}


Als Grundparametrierung der Experimente dient die \autoref{tab:sim-params-exp}. Abweichende Parameter in den Experimenten sind gesondert aufgeschlüsselt. Die einzelnen Experimente werden nach Zweck, Durchführung, erzeugte Trainings- bzw. Testdatensätze, genutztes Matlab-Skript, abweichende Parametrierung von \autoref{tab:sim-params-exp}, Ergebnisse und Beobachtungen beschrieben. Die Experimente sind in Matlab-Skripten aus \autoref{mcode:executable-scripts} als ausführbarer Quellcode realisiert.


\clearpage


\begin{table}[htp]
	\centering
	\resizebox{\textwidth}{!}{
		\begin{tabular}{l l c c l}
			\toprule
			\textbf{Parametergruppe}                 & \textbf{Parameter}  & \textbf{Wert}        & \textbf{Einheit}  & \textbf{Kurzbeschreibung}                                           \\ \midrule
			\multirow{6}{*}{SensorArrayOptions}      & geometry            & 'square'             & -                 & Array-Geometrie-Indikator                                           \\
			                                         & dimension           & $8$                  & -                 & Sensor-Array-Pixel $N_{Pixel} \times N_{Pixel}$                     \\
			                                         & edge                & $2$                  & mm                & Sensor-Array-Kantenlänge                                            \\
			                                         & $V_{cc}$            & $5$                  & V                 & Sensor-Array-Betriebsspannung                                       \\
			                                         & $V_{off}$           & $2,5$                & V                 & Sensor-Brücken-Offset-Spannung                                      \\
			                                         & $V_{norm}$          & $1 \cdot 10^3$       & mV                & Kennfeldnormierung                                                  \\ \hline
			\multirow{4}{*}{DipoleOptions}           & sphereRadius        & $2$                  & mm                & Kugelmagnetradius                                                   \\
			                                         & $H_{0mag}$          & $200$                & $\text{kAm}^{-1}$ & Betragsfeldstärke Magnetfeldnormierung                              \\
			                                         & $z_0$               & $1$                  & mm                & $Z$-Abstand Magnetfeldnormierung                                    \\
			                                         & $m_{0mag}$          & $1 \cdot 10^6$       & $\text{Am}^2$     & Magnitude d. mag. Moments                                           \\ \hline
			\multirow{10}{*}{Training-/ TestOptions} & useCase             & 'Training'/ 'Test'   & 'char'            & Datensatzindikator f. Anwendungszweck                               \\
			                                         & xPos                & $\left[0,\right]$    & mm                & Sensor-Array $X$-Positionsvektor                                    \\
			                                         & yPos                & $\left[0,\right]$    & mm                & Sensor-Array $Y$-Positionsvektor                                    \\
			                                         & zPos                & $\left[7,\right]$    & mm                & Sensor-Array $Z$-Positionsvektor                                    \\
			                                         & tilt                & $0$                  & $^\circ$          & Magnetverkippung in $Y$-Achse                                       \\
			                                         & angleRes            & $0,5$                & $^\circ$          & Winkelauflösung f. Magnetrotation                                   \\
			                                         & phaseIndex          & 0                    & -                 & Phasenverschiebung-Index f. Startwinkel                             \\
			                                         & nAngles             & $20$/ $720$          & -                 & Anzahl gleich verteilter Simulationswinkel                          \\
			                                         & BaseReference       & 'TDK'                & char              & Kennfelddatensatzindikator                                          \\
			                                         & BridgeReference     & 'Rise'               & char              & Kennfeldindikator                                                   \\ \hline
			\multirow{10}{*}{GPROptions}             & kernel              & 'QFC'                & char              & Kernel-Funktion-Indikator \eqref{eq:kfun}, 'QFC' $\leftarrow d_F^2$ \\
			                                         & $\theta$            & $(1,1)$              & -                 & Kernel-Parametervektor $\theta$ \eqref{eq:kparam}                   \\
			                                         & $\sigma_f^2$-Bounds & $(0.1, 100)$         & -                 & Parameter-Bounds $\theta_1$ f. \autoref{alg:fminconopt}             \\
			                                         & $\sigma_l$-Bounds   & $(0.1, 100)$         & -                 & Parameter-Bounds $\theta_2$ f. \autoref{alg:fminconopt}             \\
			                                         & $\sigma_n^2$        & $10^{-6}$            & -                 & Rauschniveau, Rauschaufschaltung \eqref{eq:addnoise}                \\
			                                         & $\sigma_n^2$-Bounds & $(10^{-8}, 10^{-4})$ & -                 & Parameter-Bounds $\sigma_n^2$ f. \autoref{alg:bayesopt}             \\
			                                         & OptimRuns           & $30$                 & -                 & Durchlaufanzahl f. \autoref{alg:bayesopt}                           \\
			                                         & SLL                 & 'SLLA'               & char              & Verlust-Indikator f. Winkel (A)/ R (Radius) \autoref{alg:bayesopt}  \\
			                                         & mean                & 'zero'               & char              & Indikator Mittelwertpolynom Ein ('poly')/ Aus ('zero')              \\
			                                         & polyDegree          & $1$                  & -                 & Grad des Mittelwertpolynoms wenn mean = 'poly'                      \\ \bottomrule
		\end{tabular}}
	\caption[Simulationsparameter der Erprobungs- und Optimierungsexperimente]{Simulationsparameter der Erprobungs- und Optimierungsexperimente. Von der Grundparametrierung abweichende Werte werden direkt unter den jeweiligen Experimenten aufgeführt. Parametergruppen entsprechen dem Konfigurationsskript im \autoref{mcode:generateconfigmat}. Zusammenführung der \autoref{tab:sensor-array-sim-params} und \autoref{tab:gpr-sim-params}}
	\label{tab:sim-params-exp}
\end{table}


\input{chapters/4-1-Vergleich-Kfun-MSLL}
\input{chapters/4-2-Anpassung-Referenz}	
\input{chapters/4-3-Anpassung-Rauschniveau}
\input{chapters/4-4-Anpassung-Grenzen}
\input{chapters/4-5-Einfache-Fehllagen}
\input{chapters/4-6-Kombo-Fehllagen}

