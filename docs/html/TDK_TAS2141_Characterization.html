
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>TDK TAS2141 Characterization</title><meta name="generator" content="MATLAB 9.9"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2020-10-28"><meta name="DC.source" content="TDK_TAS2141_Characterization.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; }

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }
span.typesection { color:#A0522D }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>TDK TAS2141 Characterization</h1><!--introduction--><p>TDK characterization as base of the sensor array simulation was done before the dataset is just modified in its structure and not in its values. An additional info struct is added which contains information about how the dataset was aquirred and a data struct which contains the magnetic field resolution and the cosinus and sinus bridge images for variable Hx and Hy fieldstrengths. The raw dataset was aquirred after the method Thorben Sch&uuml;the describe in his IEEE paper for two-dimensional characterization of TMR angular sensors. The sensor characterized for both bridges a cosinus and sinus bridge. The bridges have a phisically phase shift of 90&deg; so the sensor as able to reference a superimposed magnetic field flud in x- and y-direction. The field was generated by an cross coil setup.</p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">See Also</a></li><li><a href="#2">Magnetic Stimulus</a></li><li><a href="#3">Cosinuns Bridge Output</a></li><li><a href="#4">Sinus Bridge Output</a></li></ul></div><h2 id="1">See Also</h2><div><ul><li><a href="https://ieeexplore.ieee.org/document/8706125">Two-Dimensional Characterization and Simplified Simulation Procedure for Tunnel Magnetoresistive Angle Sensors</a></li></ul></div><p>Created on October 27. 2020 Tobias Wulf. Copyright Tobias Wulf 2020.</p><p>
<!--
Hidden Clutter.
Edited on Month DD. YYYY by Editor: Single line description.
-->
</p><h2 id="2">Magnetic Stimulus</h2><p>The right stimulus is the keynote for characterization records. It needs to have the abillity record slow enough for quasi static recordings but is not allowed to be real static so the magnetic field is not interrupted during the recording. Therefore slow sinoid carrier functions with even slower amplitude modulation is choosen to provide a quasi static stimulus.</p><p>The carrier function for the Hx-field stimulus is related to the cosinus bridge and so:</p><p><img src="TDK_TAS2141_Characterization_eq13493495121535453954.png" alt="$c_1(t) = cos(\phi(t))$"></p><p>Due to the physically phase shift the Hy-field stimulus is related to sinus:</p><p><img src="TDK_TAS2141_Characterization_eq14025950046648092239.png" alt="$c_2(t) = sin(\phi(t))$"></p><p>Both carrier runs with same carrier frequency:</p><p><img src="TDK_TAS2141_Characterization_eq16030152548104960902.png" alt="$f_c = 3.2 Hz$"></p><p>so they are executed with the phase vector over time:</p><p><img src="TDK_TAS2141_Characterization_eq02360831130102482983.png" alt="$\phi(t) = 2\pi f_c t$"></p><p>The carrier functions are triangle modulated to generate rising and falling amplituded. The modulation frequency is  set to:</p><p><img src="TDK_TAS2141_Characterization_eq10605660331662642560.png" alt="$f_m = 0.01Hz$"></p><p>Which generates a stimulus with 320 periods where 160 periods feeds a rising and falling record each multiplied with maximum fieldstrength amplitude:</p><p><img src="TDK_TAS2141_Characterization_eq01238703356142363816.png" alt="$m(t) = H_{max} \cdot tri(t) = H_{max} \cdot tri(2(t-t_0)f_m)$"></p><p><img src="TDK_TAS2141_Characterization_eq05048748550385256717.png" alt="$t_0 = \frac{1}{2f_m}$"></p><p>So the Hx- and Hy-field stimulus is described by:</p><p><img src="TDK_TAS2141_Characterization_eq15632557313661924805.png" alt="$H_x(t) = m(t) \cdot c_1(t)$"></p><p><img src="TDK_TAS2141_Characterization_eq01629659688879902552.png" alt="$H_y(t) = m(t) \cdot c_1(t)$"></p><p>The stimulus amplitude depending on the phase in polar coordinates can be displayed for both parts by:</p><p><img src="TDK_TAS2141_Characterization_eq02317379556696109488.png" alt="$H_{x,y}(\phi) = |H_{x,y}(\phi)| \cdot e^{j\phi} = m(t) \cdot e^{j\phi(t)}$"></p><p>Where a rising spiral runs from center outwards for:</p><p><img src="TDK_TAS2141_Characterization_eq11869566555267457585.png" alt="$0 < t < t_0$"></p><p>And a falling spiral of amplitudes from outwards to center for:</p><p><img src="TDK_TAS2141_Characterization_eq13740384254478758675.png" alt="$t_0 < t < \frac{1}{f_m}$"></p><p>
<img src="images/tdk_magnetic_stimulus.svg" height=650>
</p><h2 id="3">Cosinuns Bridge Output</h2><p>
<img src="images/tdk_cosinus_bridge.svg" height=650>
</p><h2 id="4">Sinus Bridge Output</h2><p>
<img src="images/tdk_sinus_bridge.svg" height=650>
</p><p class="footer"><br><a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2020b</a><br></p></div><!--
##### SOURCE BEGIN #####
%% TDK TAS2141 Characterization
% TDK characterization as base of the sensor array simulation was done before
% the dataset is just modified in its structure and not in its values. An
% additional info struct is added which contains information about how the
% dataset was aquirred and a data struct which contains the magnetic field
% resolution and the cosinus and sinus bridge images for variable Hx and Hy
% fieldstrengths. The raw dataset was aquirred after the method Thorben Schüthe
% describe in his IEEE paper for two-dimensional characterization of TMR angular
% sensors. The sensor characterized for both bridges a cosinus and sinus
% bridge. The bridges have a phisically phase shift of 90° so the sensor as able
% to reference a superimposed magnetic field flud in x- and y-direction. The
% field was generated by an cross coil setup.
%
%
%% See Also
% * <https://ieeexplore.ieee.org/document/8706125 Two-Dimensional Characterization and Simplified Simulation Procedure for Tunnel Magnetoresistive Angle Sensors>
%
%
% Created on October 27. 2020 Tobias Wulf. Copyright Tobias Wulf 2020.
%
% <html>
% <!REPLACE_WITH_DASH_DASH
% Hidden Clutter.
% Edited on Month DD. YYYY by Editor: Single line description.
% REPLACE_WITH_DASH_DASH>
% </html>
%
%
%% Magnetic Stimulus
% The right stimulus is the keynote for characterization records. It needs to
% have the abillity record slow enough for quasi static recordings but is not
% allowed to be real static so the magnetic field is not interrupted during the
% recording. Therefore slow sinoid carrier functions with even slower amplitude
% modulation is choosen to provide a quasi static stimulus. 
%
% The carrier function for the Hx-field stimulus is related to the cosinus
% bridge and so:
%
% $c_1(t) = cos(\phi(t))$
%
% Due to the physically phase shift the Hy-field stimulus is related to sinus:
%
% $c_2(t) = sin(\phi(t))$
%
% Both carrier runs with same carrier frequency:
%
% $f_c = 3.2 Hz$
%
% so they are executed with the phase vector over time:
%
% $\phi(t) = 2\pi f_c t$
%
% The carrier functions are triangle modulated to generate rising and falling
% amplituded. The modulation frequency is  set to:
%
% $f_m = 0.01Hz$
%
% Which generates a stimulus with 320 periods where 160 periods feeds a rising
% and falling record each multiplied with maximum fieldstrength amplitude:
%
% $m(t) = H_{max} \cdot tri(t) = H_{max} \cdot tri(2(t-t_0)f_m)$
%
% $t_0 = \frac{1}{2f_m}$
% 
% So the Hx- and Hy-field stimulus is described by:
%
% $H_x(t) = m(t) \cdot c_1(t)$
%
% $H_y(t) = m(t) \cdot c_1(t)$
%
% The stimulus amplitude depending on the phase in polar coordinates can be
% displayed for both parts by:
%
% $H_{x,y}(\phi) = |H_{x,y}(\phi)| \cdot e^{j\phi} = m(t) \cdot e^{j\phi(t)}$
%
% Where a rising spiral runs from center outwards for:
%
% $0 < t < t_0$
%
% And a falling spiral of amplitudes from outwards to center for:
%
% $t_0 < t < \frac{1}{f_m}$
%
% <html>
% <img src="images/tdk_magnetic_stimulus.svg" height=650>
% </html>
%
%
%% Cosinuns Bridge Output
%
% <html>
% <img src="images/tdk_cosinus_bridge.svg" height=650>
% </html>
%
%
%% Sinus Bridge Output
%
% <html>
% <img src="images/tdk_sinus_bridge.svg" height=650>
% </html>
%
##### SOURCE END #####
--></body></html>