
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>generateConfigMat</title><meta name="generator" content="MATLAB 9.9"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2020-11-06"><meta name="DC.source" content="generateConfigMat.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; }

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }
span.typesection { color:#A0522D }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>generateConfigMat</h1><!--introduction--><p>Generate configuration mat-file wich contains reusable configuration to control the software or certain function parameters. Centralized collection of configuration. If it is certain configuration needed place it here.</p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Requirements</a></li><li><a href="#2">See Also</a></li><li><a href="#3">Clean Up</a></li><li><a href="#4">Path Variables</a></li><li><a href="#5">Publish Options</a></li><li><a href="#6">Figure and Tiled Layout Options</a></li><li><a href="#7">Save Configuration</a></li></ul></div><h2 id="1">Requirements</h2><div><ul><li>Other m-files required: None</li><li>Subfunctions: None</li><li>MAT-files required: None</li></ul></div><h2 id="2">See Also</h2><div><ul><li><a href="matlab:web(fullfile(docroot,'matlab/ref/save.html'))">save</a></li><li><a href="matlab:web(fullfile(docroot,'matlab/ref/load.html'))">load</a></li><li><a href="matlab:web(fullfile(docroot,'matlab/ref/matlab.io.matfile.html'))">matfile</a></li></ul></div><p>Created on October 29. 2020 by Tobias Wulf. Copyright Tobias Wulf 2020.</p><p>
<!--
Hidden Clutter.
Edited on Month DD. YYYY by Editor: Single line description.
-->
</p><h2 id="3">Clean Up</h2><p>Clear variables from workspace to build up a fresh new configuration workspace.</p><pre class="codeinput">disp(<span class="string">'Clean up workspace ...'</span>);
clearvars;
clc;
</pre><h2 id="4">Path Variables</h2><p>Key path variables and directories, often used in functions or scripts. Collet the path in a struct for easier save the struct fields as variables to config.mat via -struct flag.</p><pre class="codeinput">disp(<span class="string">'Create current project instance to gather information ...'</span>);

<span class="comment">% create current project instance to retrieve root information</span>
projectInstance = matlab.project.currentProject;

disp(<span class="string">'Create path variables ...'</span>);

<span class="comment">% project root path, needs to be recreated generic to work on different machines</span>
PathVariables.rootPath = projectInstance.RootFolder;

<span class="comment">% path to data folder, which contains datasets and config.mat</span>
PathVariables.dataPath = fullfile(PathVariables.rootPath, <span class="string">'data'</span>);

<span class="comment">% path to TDK TAS2141 TMR angular sensor characterization dataset</span>
PathVariables.tdkDatasetPath = fullfile(PathVariables.dataPath, <span class="keyword">...</span>
    <span class="string">'TDK_TAS2141_Characterization_2019-07-24.mat'</span>);

<span class="comment">% path to config file dataset</span>
PathVariables.configPath = fullfile(PathVariables.dataPath, <span class="string">'config.mat'</span>);

<span class="comment">% path to documentation and m-files only for documentation</span>
PathVariables.docsPath = fullfile(PathVariables.rootPath, <span class="string">'docs'</span>);

<span class="comment">% path to publish html documentation output directory, helptoc.xml location</span>
PathVariables.publishHtmlPath = fullfile(PathVariables.docsPath, <span class="string">'html'</span>);

<span class="comment">% path to style sheet for html documentation, Matlab provided style sheet</span>
PathVariables.publishStyleSheetPath = string(fullfile(matlabroot, <span class="string">'toolbox'</span>, <span class="keyword">...</span>
    <span class="string">'matlab'</span>, <span class="string">'codetools'</span>, <span class="string">'private'</span>, <span class="string">'mxdom2simplehtml.xsl'</span>));

<span class="comment">% path to documentation search database entries for Matlab help browser support</span>
PathVariables.helpsearchPath = fullfile(PathVariables.publishHtmlPath, <span class="keyword">...</span>
    <span class="string">'helpsearch-v3'</span>);

<span class="comment">% path to executable m-file scripts of the project</span>
PathVariables.scriptsPath = fullfile(PathVariables.rootPath, <span class="string">'scripts'</span>);

<span class="comment">% path to source code files, function and class files</span>
PathVariables.srcPath = fullfile(PathVariables.rootPath, <span class="string">'src'</span>);
</pre><h2 id="5">Publish Options</h2><p>These are general options for documents to publish. They are passed to the matlab publish function via a struct where each option gets its own field. The option struct can be copied and adjusted for differing publish conditions in example for scripts, functions, and bare document m-files. Initialize the option struct with output format field name and field value and add further fields (options) with point value.</p><pre class="codeinput">disp(<span class="string">'Set publish options struct for publish function ...'</span>);
PublishOptions = struct(<span class="string">'format'</span>, <span class="string">'html'</span>);
PublishOptions.outputDir = PathVariables.publishHtmlPath;
PublishOptions.stylesheet = PathVariables.publishStyleSheetPath;
PublishOptions.createThumbnail = false;
PublishOptions.figureSnapMethod = <span class="string">'entireFigureWindow'</span>;
PublishOptions.imageFormat = <span class="string">'png'</span>;
PublishOptions.maxHeight = [];
PublishOptions.maxWidth = [];
PublishOptions.useNewFigure = false;
PublishOptions.evalCode = false;
PublishOptions.catchError = true;
PublishOptions.codeToEvaluate = [];
PublishOptions.maxOutputLines = Inf;
PublishOptions.showCode = true;
</pre><h2 id="6">Figure and Tiled Layout Options</h2><p>Options to unify plot and figure views and fast create new plots controlled by certain configurations. Use options with unique create functions for fast forward plotting routines. See Matlab documentation for further figure options if needed.</p><pre class="codeinput">FigureOptions.NumberTitle = <span class="string">'off'</span>;
FigureOptions.Units = <span class="string">'normalized'</span>;
FigureOptions.WindowStyle = <span class="string">'docked'</span>;
<span class="comment">% FigureOptions.OuterPosition = [0, 0, 1, 1];</span>
<span class="comment">% FigureOptions.WindowState = 'maximized';</span>
TileOptions.Padding = <span class="string">'normal'</span>;
TileOptions.TileSpacing = <span class="string">'compact'</span>;
</pre><h2 id="7">Save Configuration</h2><p>Save section wise each config part as struct or struct fields to standalone variables in config.mat use newest save format with no compression.</p><pre class="codeinput"><span class="comment">% save PathVariables struct fields to config.mat with no compression</span>
disp(<span class="string">'Save path variables configuration to config.mat ...'</span>);
save(PathVariables.configPath, <span class="string">'-struct'</span>, <span class="string">'PathVariables'</span>, <span class="keyword">...</span>
    <span class="string">'-v7.3'</span>, <span class="string">'-nocompression'</span>);

<span class="comment">% save PublishOptions struct to config.mat with no compression, append to file</span>
disp(<span class="string">'Save publish options configuration to config.mat ...'</span>)
save(PathVariables.configPath, <span class="string">'PublishOptions'</span>, <span class="keyword">...</span>
    <span class="string">'-append'</span>, <span class="string">'-nocompression'</span>);

<span class="comment">% save FigureOptions and TileOptions structs to config.mat with no compression,</span>
<span class="comment">% append to file</span>
disp(<span class="string">'Save figure and tile options configuration to config.mat ...'</span>)
save(PathVariables.configPath, <span class="string">'FigureOptions'</span>, <span class="string">'TileOptions'</span>, <span class="keyword">...</span>
    <span class="string">'-append'</span>, <span class="string">'-nocompression'</span>);
</pre><p class="footer"><br><a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2020b</a><br></p></div><!--
##### SOURCE BEGIN #####
%% generateConfigMat
% Generate configuration mat-file wich contains reusable configuration to
% control the software or certain function parameters. Centralized collection of
% configuration. If it is certain configuration needed place it here.
%
%
%% Requirements
% * Other m-files required: None
% * Subfunctions: None
% * MAT-files required: None
%
%
%% See Also
% * <matlab:web(fullfile(docroot,'matlab/ref/save.html')) save>
% * <matlab:web(fullfile(docroot,'matlab/ref/load.html')) load>
% * <matlab:web(fullfile(docroot,'matlab/ref/matlab.io.matfile.html')) matfile>
%
%
% Created on October 29. 2020 by Tobias Wulf. Copyright Tobias Wulf 2020.
%
% <html>
% <!REPLACE_WITH_DASH_DASH
% Hidden Clutter.
% Edited on Month DD. YYYY by Editor: Single line description.
% REPLACE_WITH_DASH_DASH>
% </html>
%
%
%% Clean Up
% Clear variables from workspace to build up a fresh new configuration
% workspace.
disp('Clean up workspace ...');
clearvars;
clc;


%% Path Variables
% Key path variables and directories, often used in functions or scripts.
% Collet the path in a struct for easier save the struct fields as variables to
% config.mat via -struct flag.

disp('Create current project instance to gather information ...');

% create current project instance to retrieve root information
projectInstance = matlab.project.currentProject;

disp('Create path variables ...');

% project root path, needs to be recreated generic to work on different machines
PathVariables.rootPath = projectInstance.RootFolder;

% path to data folder, which contains datasets and config.mat
PathVariables.dataPath = fullfile(PathVariables.rootPath, 'data');

% path to TDK TAS2141 TMR angular sensor characterization dataset
PathVariables.tdkDatasetPath = fullfile(PathVariables.dataPath, ... 
    'TDK_TAS2141_Characterization_2019-07-24.mat');

% path to config file dataset
PathVariables.configPath = fullfile(PathVariables.dataPath, 'config.mat');

% path to documentation and m-files only for documentation
PathVariables.docsPath = fullfile(PathVariables.rootPath, 'docs');

% path to publish html documentation output directory, helptoc.xml location
PathVariables.publishHtmlPath = fullfile(PathVariables.docsPath, 'html');

% path to style sheet for html documentation, Matlab provided style sheet
PathVariables.publishStyleSheetPath = string(fullfile(matlabroot, 'toolbox', ...
    'matlab', 'codetools', 'private', 'mxdom2simplehtml.xsl'));

% path to documentation search database entries for Matlab help browser support
PathVariables.helpsearchPath = fullfile(PathVariables.publishHtmlPath, ...
    'helpsearch-v3');

% path to executable m-file scripts of the project
PathVariables.scriptsPath = fullfile(PathVariables.rootPath, 'scripts');

% path to source code files, function and class files
PathVariables.srcPath = fullfile(PathVariables.rootPath, 'src');


%% Publish Options
% These are general options for documents to publish. They are passed to the
% matlab publish function via a struct where each option gets its own field.
% The option struct can be copied and adjusted for differing publish
% conditions in example for scripts, functions, and bare document m-files.
% Initialize the option struct with output format field name and field value
% and add further fields (options) with point value.
disp('Set publish options struct for publish function ...');
PublishOptions = struct('format', 'html');
PublishOptions.outputDir = PathVariables.publishHtmlPath;
PublishOptions.stylesheet = PathVariables.publishStyleSheetPath;
PublishOptions.createThumbnail = false;
PublishOptions.figureSnapMethod = 'entireFigureWindow';
PublishOptions.imageFormat = 'png';
PublishOptions.maxHeight = [];
PublishOptions.maxWidth = [];
PublishOptions.useNewFigure = false;
PublishOptions.evalCode = false;
PublishOptions.catchError = true;
PublishOptions.codeToEvaluate = [];
PublishOptions.maxOutputLines = Inf;
PublishOptions.showCode = true;


%% Figure and Tiled Layout Options
% Options to unify plot and figure views and fast create new plots controlled by
% certain configurations. Use options with unique create functions for fast
% forward plotting routines. See Matlab documentation for further figure
% options if needed.
FigureOptions.NumberTitle = 'off';
FigureOptions.Units = 'normalized';
FigureOptions.WindowStyle = 'docked';
% FigureOptions.OuterPosition = [0, 0, 1, 1];
% FigureOptions.WindowState = 'maximized';
TileOptions.Padding = 'normal';
TileOptions.TileSpacing = 'compact';


%% Save Configuration
% Save section wise each config part as struct or struct fields to standalone
% variables in config.mat use newest save format with no compression.

% save PathVariables struct fields to config.mat with no compression
disp('Save path variables configuration to config.mat ...');
save(PathVariables.configPath, '-struct', 'PathVariables', ...
    '-v7.3', '-nocompression');

% save PublishOptions struct to config.mat with no compression, append to file
disp('Save publish options configuration to config.mat ...')
save(PathVariables.configPath, 'PublishOptions', ... 
    '-append', '-nocompression');

% save FigureOptions and TileOptions structs to config.mat with no compression,
% append to file
disp('Save figure and tile options configuration to config.mat ...')
save(PathVariables.configPath, 'FigureOptions', 'TileOptions', ... 
    '-append', '-nocompression');

##### SOURCE END #####
--></body></html>